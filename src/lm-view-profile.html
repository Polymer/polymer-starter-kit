<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel = 'import' href='../bower_components/polymer/polymer.html'>
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<link rel = "import" href = "../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel = "import" href = "../bower_components/paper-item/paper-item.html">
<link rel = "import" href = "../bower_components/paper-listbox/paper-listbox.html">
<link rel = "import" href = "../bower_components/paper-button/paper-button.html">
<link rel = "import" href = "../bower_components/paper-styles/paper-styles.html">
<link rel = "import" href="../bower_components/iron-icons/iron-icons.html">
<link rel = "import" href = "../bower_components/paper-input/paper-input.html">
<link rel = "import" href = "../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">
<script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>

<dom-module id="lm-view-profile">
  <template>
   <style include="shared-styles">
      :host {
        display: block;
        padding: 10px;
      }
        paper-dropdown-menu {width:100px;display: block;}
        #container {display: flex;}
        paper-button{ padding: 10px; border-radius: 5px; float: right;}
        paper-button.green:hover { background-color: var(--paper-green-400);}
        paper-button.green { background-color: var(--paper-green-500); color: white;}
        paper-button.green[active] {background-color: var(--paper-red-500);}
        .style-scope.lm-view-profile {height: auto;}
        .next_button {overflow: auto;}
        .blocks {display: inline-block; width: 150px;}
        /* iron-autogrow-textarea{width: 148px;height: 100px;} */
    </style>
	
    <iron-ajax
               auto
               url="{{getProfileUrl}}"
               handle-as="json"
               last-response='{{ajaxResponse}}'
               >
    </iron-ajax>
    <span>{{ajaxResponse.responseMessage}}</span>
	
	<div class="card User_details">
      <h1>{{User.name}} Profile details</h1>
      <div class="data">
        <div>
          <div class="blocks"><label>Salutation: </label></div>
          <div class="blocks"> 
            <paper-dropdown-menu disabled label="{{ajaxResponse.salutation}}">
                <paper-listbox  slot = "dropdown-content" >
                    <paper-item>Mr.</paper-item>
                    <paper-item>Mrs.</paper-item>
                </paper-listbox>
            </paper-dropdown-menu>
          </div>
            
            <div class="blocks">  <label>First Name:</label></div>
            <div class="blocks"> 
              <paper-input auto-validate allowed-pattern="[a-zA-Z]" disabled label = "" value="{{ajaxResponse.firstName}}">
                <iron-icon icon = "account-circle"  prefix></iron-icon>
              </paper-input>
            </div>
            <div class="blocks">  <label>Last Name:</label></div>
              <div class="blocks">  <paper-input auto-validate allowed-pattern="[a-zA-Z]" required disabled value= "{{ajaxResponse.lastName}}">
                  <iron-icon icon = "account-circle"  prefix></iron-icon>
              </paper-input>
          </div
        </div>

      <div>
        <div class="blocks"><label>BSN(National Identifier):</label></div>
            <div class="blocks"><paper-input disabled  value="{{ajaxResponse.bsn}}">
              <iron-icon icon = "account-circle" value="" prefix></iron-icon>
            </paper-input></div>
            <div class="blocks">  <label>Door Number:</label></div>
            <div class="blocks">  <paper-input disabled value="{{ajaxResponse.address.doorNumber}}">
                <iron-icon icon = "account-circle"  prefix></iron-icon>
            </paper-input></div>
            <div class="blocks"> <label>City:</label></div>
            <div class="blocks"> 
              	<paper-input disabled value="{{ajaxResponse.address.city}}">
                  <iron-icon icon = "account-circle"  prefix></iron-icon>
                 </paper-input>
             </div>
      </div>

      <div>
            <div class="blocks"><label>Address Line 1:</label></div>
            <div class="blocks">
              <iron-autogrow-textarea disabled value="{{ajaxResponse.address.addressLine1}}">{{ajaxResponse.address.addressLine1}}
              </iron-autogrow-textarea>
            </div>
            <div>
            <div class="blocks"><label>Address Line 2:</label></div>
            <div class="blocks">
              <iron-autogrow-textarea disabled value="{{ajaxResponse.address.addressLine2}}">
              </iron-autogrow-textarea>
            </div></div>
      </div>      

      <div>  
            
             <div class="blocks">  <label>Post code:</label></div>
             <div class="blocks">
                 <paper-input disabled type="number" value="{{ajaxResponse.address.postCode}}">
               </paper-input>
             </div>
             <div class="blocks"><label>Home Number:</label></div>
              <div class="blocks"> <paper-input disabled value="{{ajaxResponse.address.postCode}}" type="number">
                <div slot="prefix">0</div>
            </paper-input></div>
            <div class="blocks"> <label>Mobile Number:</label></div>
            <div class="blocks">
              <paper-input disabled label="{{ajaxResponse.mobileNumber}}" type="number">
                <div slot="prefix">+91</div>
            </paper-input></div>
      </div>

      <div>
            <div class="blocks"><label>Email Address:</label></div>
            <div class="blocks"> 
                <paper-input disabled label="{{ajaxResponse.emailAddress}}">
                  <iron-icon icon="mail" slot="prefix"></iron-icon>
                   <div slot="suffix"></div>
               </paper-input>
            </div>
            <div class="blocks"> <label>Marital Status:</label></div>
            <div class="blocks"> <paper-dropdown-menu disabled label="{{ajaxResponse.maritalStatus}}">
                <paper-listbox  slot = "dropdown-content" >
                    <paper-item value=""></paper-item>
                    <paper-item>Single</paper-item>
                    <paper-item>Married</paper-item>
                    <paper-item>Divorced</paper-item>
                </paper-listbox>
            </paper-dropdown-menu></div>
            <div class="blocks">  <label>No of Dependents:</label></div>
            <div class="blocks"> 
              <paper-dropdown-menu disabled label="{{ajaxResponse.noOfDependents}}">
                <paper-listbox  slot = "dropdown-content">
                    <paper-item>0</paper-item>
                    <paper-item>1</paper-item>
                    <paper-item>2</paper-item>
                </paper-listbox>
              </paper-dropdown-menu>
            </div>
      </div>
      <div class="next_button"><paper-button toggles raised class = "green">Next</paper-button></div>
    </div>
	</div>
  </template>

  <script>
    class ViewProfile extends Polymer.Element {
      static get is() { return 'lm-view-profile'; }
      static get properties() {
        return {
          prop1: {
            type: String,
            value: "bar"
          },
          lastName: {
            type: String,
            value: "William"
          },
          firstName: {
            type: String,
            value: "Andrew"
          },
          salutation:{
            type:String,
            value:"Mr."
          },
          bSN:{
            type:String,
            value:"BSN"
          },
          doorNumber:{
            type:String,
            value:"22"
          },
          addressLine1:
          {
            type:String,
            value:"Netherlands---------------"
          },
          addressLine2:
          {
            type:String,
            value:"Netherlands---------------"
          },
          city:{
            type:String,
            value:"Amsterdam"
          },
          homeNumber:{
            type:String,
            value:"Amsterdam"
          },
          mobileNumber:{
            type:String,
            value:"9015291725"
          },
          emailAddress:{
            type:String,
            value:"abc@gmail.com"
          },
          maritalStatus:{
            type:String,
            value:"Single"
          },
          noOfDependents:
          {
            type:String,
            value:"1"
          },getProfileUrl: {
            type: String,
            computed: 'getUrl()'
        }






        }
      }
      
      getUrl() {
        var url = window.location.pathname;
        var splitUrl=url.split("/");
        return "http://10.138.65.226:8080/lightningmortgage/customer/getCustomer/"+splitUrl[2];
      }
      
      json(obj) {
        return JSON.stringify(obj, null, 2);
      }
    }

    window.customElements.define(ViewProfile.is, ViewProfile);
  </script>
</dom-module>
